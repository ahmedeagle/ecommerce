/*!
 * stack-admin-theme (https://pixinvent.com/bootstrap-admin-template/stack)
 * Copyright 2018 PIXINVENT
 * Licensed under the Themeforest Standard Licenses
 */
$(document).ready(function(){function split(val){return val.split(/,\s*/)}function extractLast(term){return split(term).pop()}function split_r(val){return val.split(/,\s*/)}function extractLast_r(term){return split_r(term).pop()}var peopleTags=["Aaron","Abel","Bacon","Barry","Clancy","Cornstalk","Daniel","David","Edison","Frank","George","Hamilton","Irvine","Jackson","Kelly","Lumb","Magee","Newton","Olson","Paul","Quine","Roy","Smith","Tony","Young","Zampa"];$(".ac-default").autocomplete({source:peopleTags});var names=["Jörn Zaefferer","Scott González","John Resig"],accentMap={"á":"a","ö":"o"},normalize=function(term){for(var ret="",i=0;i<term.length;i++)ret+=accentMap[term.charAt(i)]||term.charAt(i);return ret};$(".ac-accent-folding").autocomplete({source:function(request,response){var matcher=new RegExp($.ui.autocomplete.escapeRegex(request.term),"i");response($.grep(names,function(value){return value=value.label||value.value||value,matcher.test(value)||matcher.test(normalize(value))}))}}),$.widget("custom.catcomplete",$.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(ul,items){var that=this,currentCategory="";$.each(items,function(index,item){var li;item.category!=currentCategory&&(ul.append("<li class='ui-autocomplete-category'>"+item.category+"</li>"),currentCategory=item.category),li=that._renderItemData(ul,item),item.category&&li.attr("aria-label",item.category+" : "+item.label)})}});var data=[{label:"anders",category:""},{label:"andreas",category:""},{label:"antal",category:""},{label:"annhhx10",category:"Products"},{label:"annk K12",category:"Products"},{label:"annttop C13",category:"Products"},{label:"anders andersson",category:"People"},{label:"andreas andersson",category:"People"},{label:"andreas johnson",category:"People"}];$(".ac-category").catcomplete({delay:0,source:data}),$.widget("custom.combobox",{_create:function(){this.wrapper=$("<div>").addClass("custom-combobox input-group").insertAfter(this.element),$('<div class="input-group-prepend"><span class="input-group-text"><i class="ft-search"></i></span></div>').appendTo(this.wrapper),this.element.hide(),this._createAutocomplete(),this._createShowAllButton()},_createAutocomplete:function(){var selected=this.element.children(":selected"),value=selected.val()?selected.text():"";this.input=$("<input>").appendTo(this.wrapper).val(value).attr("title","").addClass("custom-combobox-input form-control ui-widget ui-widget-content ui-state-default ui-corner-left").autocomplete({delay:0,minLength:0,source:$.proxy(this,"_source")}).tooltip({classes:{"ui-tooltip":"ui-state-highlight"}}),this._on(this.input,{autocompleteselect:function(event,ui){ui.item.option.selected=!0,this._trigger("select",event,{item:ui.item.option})},autocompletechange:"_removeIfInvalid"})},_createShowAllButton:function(){var input=this.input,wasOpen=!1;$('<div class="input-group-prepend"><span class="input-group-text ac-toggle"><i class="ft-chevron-down"></i></span></div>').attr("tabIndex",-1).appendTo(this.wrapper).removeClass("ui-corner-all").addClass("custom-combobox-toggle ui-corner-right").on("mousedown",function(){wasOpen=input.autocomplete("widget").is(":visible")}).on("click",function(){input.trigger("focus"),wasOpen||input.autocomplete("search","")})},_source:function(request,response){var matcher=new RegExp($.ui.autocomplete.escapeRegex(request.term),"i");response(this.element.children("option").map(function(){var text=$(this).text();if(this.value&&(!request.term||matcher.test(text)))return{label:text,value:text,option:this}}))},_removeIfInvalid:function(event,ui){if(!ui.item){var value=this.input.val(),valueLowerCase=value.toLowerCase(),valid=!1;this.element.children("option").each(function(){if($(this).text().toLowerCase()===valueLowerCase)return this.selected=valid=!0,!1}),valid||(this.input.val("").attr("title",value+" didn't match any item").tooltip("open"),this.element.val(""),this._delay(function(){this.input.tooltip("close").attr("title","")},2500),this.input.autocomplete("instance").term="")}},_destroy:function(){this.wrapper.remove(),this.element.show()}}),$(".ac-combobox").combobox();var projects=[{value:"jquery",label:"jQuery",desc:"the write less, do more, JavaScript library",icon:"jquery_32x32.png"},{value:"jquery-ui",label:"jQuery UI",desc:"the official user interface library for jQuery",icon:"jqueryui_32x32.png"},{value:"sizzlejs",label:"Sizzle JS",desc:"a pure-JavaScript CSS selector engine",icon:"sizzlejs_32x32.png"}];$(".ac-project").autocomplete({minLength:0,source:projects,focus:function(event,ui){return $(".ac-project").val(ui.item.label),!1},select:function(event,ui){return $(".ac-project").val(ui.item.label),$(".ac-project-id").val(ui.item.value),$(".ac-project-description").html(ui.item.desc),!1}}).autocomplete("instance")._renderItem=function(ul,item){return $("<li>").append("<div>"+item.label+"<br>"+item.desc+"</div>").appendTo(ul)},$(".ac-multiple-values").on("keydown",function(event){event.keyCode===$.ui.keyCode.TAB&&$(this).autocomplete("instance").menu.active&&event.preventDefault()}).autocomplete({minLength:0,source:function(request,response){response($.ui.autocomplete.filter(peopleTags,extractLast(request.term)))},focus:function(){return!1},select:function(event,ui){var terms=split(this.value);return terms.pop(),terms.push(ui.item.value),terms.push(""),this.value=terms.join(", "),!1}}),$(".ac-remote-datasource").autocomplete({source:"../../../app-assets/data/jquery-ui/search.php",minLength:2});var cache={};$(".ac-remote-caching").autocomplete({minLength:2,source:function(request,response){var term=request.term;return term in cache?void response(cache[term]):void $.getJSON("../../../app-assets/data/jquery-ui/search.php",request,function(data,status,xhr){cache[term]=data,response(data)})}}),$(".ac-multiple-remote").on("keydown",function(event){event.keyCode===$.ui.keyCode.TAB&&$(this).autocomplete("instance").menu.active&&event.preventDefault()}).autocomplete({source:function(request,response){$.getJSON("../../../app-assets/data/jquery-ui/search.php",{term:extractLast_r(request.term)},response)},search:function(){var term=extractLast_r(this.value);if(term.length<2)return!1},focus:function(){return!1},select:function(event,ui){var terms=split_r(this.value);return terms.pop(),terms.push(ui.item.value),terms.push(""),this.value=terms.join(", "),!1}}),$.ajax({url:"../../../app-assets/data/jquery-ui/london.xml",dataType:"xml",success:function(xmlResponse){var data=$("geoname",xmlResponse).map(function(){return{value:$("name",this).text()+", "+($.trim($("countryName",this).text())||"(unknown country)"),id:$("geonameId",this).text()}}).get();$(".ac-xml-data-parse").autocomplete({source:data,minLength:0})}})});