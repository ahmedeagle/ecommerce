/*!
 * stack-admin-theme (https://pixinvent.com/bootstrap-admin-template/stack)
 * Copyright 2018 PIXINVENT
 * Licensed under the Themeforest Standard Licenses
 */
$(window).on("load",function(){function magnify(node){if(parent=node.parent){var parent,x=parent.x,k=.8;parent.children.forEach(function(sibling){x+=reposition(sibling,x,sibling===node?parent.dx*k/node.value:parent.dx*(1-k)/(parent.value-node.value))})}else reposition(node,0,node.dx/node.value);path.transition().duration(750).attrTween("d",arcTween)}function reposition(node,x,k){if(node.x=x,node.children&&(n=node.children.length))for(var n,i=-1;++i<n;)x+=reposition(node.children[i],x,k);return node.dx=node.value*k}function stash(d){d.x0=d.x,d.dx0=d.dx}function arcTween(a){var i=d3.interpolate({x:a.x0,dx:a.dx0},a);return function(t){var b=i(t);return a.x0=b.x,a.dx0=b.dx,arc(b)}}var ele=d3.select("#sunburst-distortion"),width=ele.node().getBoundingClientRect().width,height=400;radius=190;var color=d3.scale.ordinal().range(["#99B898","#FECEA8","#FF847C","#E84A5F","#C06C84","#6C5B7B","#355C7D"]),partition=d3.layout.partition().size([2*Math.PI,radius]).value(function(d){return d.size}),arc=d3.svg.arc().startAngle(function(d){return d.x}).endAngle(function(d){return d.x+d.dx}).innerRadius(function(d){return d.y}).outerRadius(function(d){return d.y+d.dy}),svg=ele.append("svg").attr("width",width).attr("height",height).append("g").attr("transform","translate("+width/2+","+height/2+")");d3.json("../../../app-assets/data/d3/circle/flare.json",function(error,root){if(error)throw error;path=svg.data([root]).selectAll("path").data(partition.nodes).enter().append("path").attr("d",arc).style("fill",function(d){return color((d.children?d:d.parent).name)}).on("click",magnify).each(stash)})});