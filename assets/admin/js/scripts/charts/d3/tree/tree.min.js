/*!
 * stack-admin-theme (https://pixinvent.com/bootstrap-admin-template/stack)
 * Copyright 2018 PIXINVENT
 * Licensed under the Themeforest Standard Licenses
 */
$(window).on("load",function(){var ele=d3.select("#tree-chart"),margin={top:20,right:20,bottom:30,left:50},width=ele.node().getBoundingClientRect().width-margin.left-margin.right,height=600-margin.top-margin.bottom,container=ele.append("svg"),svg=container.attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")"),tree=d3.layout.tree().size([height,width-180]),diagonal=d3.svg.diagonal().projection(function(d){return[d.y,d.x]});d3.json("../../../app-assets/data/d3/tree/tree.json",function(error,json){function resize(){width=ele.node().getBoundingClientRect().width-margin.left-margin.right,nodes=tree.nodes(json),links=tree.links(nodes),container.attr("width",width+margin.left+margin.right),svg.attr("width",width+margin.left+margin.right),tree.size([height,width-180]),svg.selectAll(".d3-tree-link").attr("d",diagonal),svg.selectAll(".d3-tree-node").attr("transform",function(d){return"translate("+d.y+","+d.x+")"})}var nodes=tree.nodes(json),links=tree.links(nodes),linkGroup=svg.append("g").attr("class","d3-tree-link-group"),nodeGroup=(linkGroup.selectAll(".d3-tree-link").data(links).enter().append("path").attr("class","d3-tree-link").attr("d",diagonal).style("fill","none").style("stroke","#e3e3e3").style("stroke-width",1.5),svg.append("g").attr("class","d3-tree-node-group")),node=nodeGroup.selectAll(".d3-tree-node").data(nodes).enter().append("g").attr("class","d3-tree-node").attr("transform",function(d){return"translate("+d.y+","+d.x+")"});node.append("circle").attr("r",4.5).attr("class","d3-tree-circle").style("fill","#fff").style("stroke","#E84A5F").style("stroke-width",1.5),node.append("text").attr("dx",function(d){return d.children?-12:12}).attr("dy",4).style("text-anchor",function(d){return d.children?"end":"start"}).style("font-size",12).text(function(d){return d.name}),$(window).on("resize",resize),$(".menu-toggle").on("click",resize)})});